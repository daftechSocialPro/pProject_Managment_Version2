<main id="main" class="main">
    <div class="pagetitle">
        <h1>Cases</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
                <li class="breadcrumb-item">Case </li>
                <li class="breadcrumb-item active">List of Unsent Messages</li>
            </ol>
        </nav>
    </div>



    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Unsent Messages</h5>




            <p-table #dt 
            [value]="messages"  
            dataKey="Id"
            responsiveLayout="scroll" 
            [rows]="5" 
            [globalFilterFields]="['CaseNumber','ApplicantName','LetterNumber','Subject','CaseTypeTitle','PhoneNumber','PhoneNumber2','Message','MessageGroup','IsSMSSent']"
            [paginator]="true"
            [rowsPerPageOptions]="[5,10,15,20]" 
            [showCurrentPageReport]="true" 
           
            [(selection)]="selectedmessages" 
            selectionMode="multiple" 
            [rowHover]="true" 
           >
               <ng-template pTemplate="caption">
                   <div class="flex">
                       <button type="button" pButton pRipple [disabled]="selectedmessages.length<=0" (click)="sendMessage()" class="p-button-primary mr-2"  pTooltip="Send Message" tooltipPosition="bottom"> Send Message </button> 
                                          
                   </div>
               </ng-template>
               <ng-template pTemplate="header">
                   <tr>
                       <th style="width: 3rem">
                   
                       </th>

                       <th pSortableColumn="CaseNumber" >Case Number</th>                       
                       <th pSortableColumn="ApplicantName">Applicant Name  </th>
                       <th pSortableColumn="LetterNumber">Letter Number  </th>
                       <th pSortableColumn="Subject">Subject </th>
                       <th pSortableColumn="CaseTypeTitle">Case Type Title </th>
                       <th pSortableColumn="PhoneNumber">Phone Number  </th>
                       <th pSortableColumn="PhoneNumber2">Phone Number2 </th>
                       <th pSortableColumn="Message">Message </th>
                       <th pSortableColumn="MessageGroup">Message Group </th>
                       <th >Is SMS Sent </th>
  
                  
                   </tr>
               </ng-template>
               <ng-template pTemplate="body" let-smsrep>
                   <tr class="p-selectable-row">
                     
                  <td>
                    <p-tableCheckbox 
                    [value]="smsrep" 
                   >
                </p-tableCheckbox>
                  </td>
               

                    <td>
                       
                        <span>{{smsrep.CaseNumber}}</span>
                    </td>
                    <td>
                       
                        <span>{{smsrep.ApplicantName}}</span>
                    </td>
                    <td>
                        
                        <span>{{smsrep.LetterNumber}}</span>
                    </td>
                    <td>
                 
                        <span>{{smsrep.Subject}}</span>
                    </td>
                    <td>
                        
                        <span>{{smsrep.CaseTypeTitle}}</span>
                    </td>
                    <td>
                  
                        <span>{{smsrep.PhoneNumber}}</span>
                    </td>
                    <td>
                        
                        <span>{{smsrep.PhoneNumber2}}</span>
                    </td>
                    <td>
           
                        <span>{{smsrep.Message}}</span>
                    </td>
                    <td>
                       
                        <span>{{smsrep.MessageGroup}}</span>
                    </td>


                    <td>
                      
                        <span [class]="smsrep.IsSMSSent?'badge bg-success':'badge bg-danger'"
                            style="font-size: 20px;">{{smsrep.IsSMSSent?"Sent":"UnSent"}}</span>
                    </td>
               

                   </tr>
               </ng-template>
           </p-table>

        </div>  

    </div>
</main>